{"version":3,"sources":["contexts/GlobalState.js","components/MovieCards.js","components/searchMovies.js","components/MovieContainer.js","components/Header.js","App.js","components/favourites.js","components/favouriteMain.js","routes/routes.js","index.js"],"names":["GlobalContext","createContext","GlobalProvider","props","putData","data","type","console","log","search","Search","map","isFav","setState","state","filter","Type","setFavourite","id","flag","favdata","newData","imdbID","newFavourites","favourites","localStorage","setItem","JSON","stringify","new","fav","bind","this","parse","getItem","commonProps","Provider","value","children","Component","MovieCards","useContext","Response","cardJSX","className","key","src","onClick","e","target","Poster","height","width","Title","Year","SearchMovies","movieData","useState","searchtext","setSearch","dropdownvalue","setDropdown","url","getData","a","axios","get","response","onSubmit","preventDefault","placeholder","onChange","name","MovieContainer","Header","history","useHistory","push","App","React","Favourites","length","CardJSX","FavouriteMain","Routes","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec01b836.chunk.js","sourcesContent":["import React, { Component, createContext, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// Create Context\r\nexport const GlobalContext = createContext();\r\n\r\nexport class GlobalProvider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      favourites: [],\r\n      search: [],\r\n    };\r\n    this.putData = this.putData.bind(this);\r\n    this.setFavourite = this.setFavourite.bind(this);\r\n  }\r\n\r\n  putData = (data, type) => {\r\n    // console.log(\"hi i am putter\");\r\n    console.log(data);\r\n    console.log(type);\r\n    if (type === \"all\") {\r\n      const search = data.Search.map((data) => {\r\n        if (!data.isFav) {\r\n          return {\r\n            ...data,\r\n            isFav: false,\r\n          };\r\n        }\r\n        return data;\r\n      });\r\n      console.log(search);\r\n      this.setState({\r\n        ...this.state,\r\n        ...data,\r\n        search,\r\n      });\r\n    } else {\r\n      const relevantType = data.Search.filter((data) => data.Type === type);\r\n\r\n      const search = relevantType.map((data) => {\r\n        if (!data.isFav) {\r\n          return {\r\n            ...data,\r\n            isFav: false,\r\n          };\r\n        }\r\n        return data;\r\n      });\r\n      console.log(search);\r\n      this.setState({\r\n        ...this.state,\r\n        ...data,\r\n        search,\r\n      });\r\n    }\r\n  };\r\n\r\n  setFavourite = (id) => {\r\n    let flag = null;\r\n    let favdata = null;\r\n    const newData = this.state.search.map((data) => {\r\n      if (data.imdbID == id) {\r\n        console.log(\"yes i am\");\r\n        flag = !data.isFav;\r\n        favdata = { ...data, isFav: !data.isFav };\r\n        console.log(favdata);\r\n        return {\r\n          ...favdata,\r\n        };\r\n      }\r\n      return data;\r\n    });\r\n    console.log(\"i am at 53\");\r\n    if (flag) {\r\n      console.log(\"i am true\");\r\n      const newFavourites = [...this.state.favourites, favdata];\r\n      console.log(\"fav\", newFavourites);\r\n      this.setState(() => {\r\n        localStorage.setItem(\"favourites\", JSON.stringify(newFavourites));\r\n        return {\r\n          ...this.state,\r\n          favourites: [...this.state.favourites, favdata],\r\n          new: \"hello\",\r\n        };\r\n      });\r\n    } else {\r\n      console.log(\"i am false\");\r\n      const newFavourites = this.state.favourites.filter(\r\n        (fav) => fav.imdbID != id\r\n      );\r\n      this.setState(() => {\r\n        localStorage.setItem(\"favourites\", JSON.stringify(newFavourites));\r\n        return {\r\n          ...this.state,\r\n          favourites: newFavourites,\r\n        };\r\n      });\r\n    }\r\n    console.log(\"i am new data\", newData);\r\n    this.setState({\r\n      search: [...newData],\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      favourites: JSON.parse(localStorage.getItem(\"favourites\")) || [],\r\n    });\r\n  }\r\n\r\n  //   deleteTransaction(id) {\r\n  //     const { transactions } = this.state;\r\n  //     const newTransactions = transactions.filter(\r\n  //       (transaction) => transaction.id !== id\r\n  //     );\r\n  //     this.setState(() => {\r\n  //       localStorage.setItem(\"transactions\", JSON.stringify(newTransactions));\r\n  //       return {\r\n  //         transactions: newTransactions,\r\n  //       };\r\n  //     });\r\n  //   }\r\n  //   addTransaction(transaction) {\r\n  //     const newTransactions = [...this.state.transactions, transaction];\r\n  //     this.setState(() => {\r\n  //       localStorage.setItem(\"transactions\", JSON.stringify(newTransactions));\r\n  //       return {\r\n  //         transactions: newTransactions,\r\n  //       };\r\n  //     });\r\n  //   }\r\n\r\n  render() {\r\n    const commonProps = {\r\n      ...this.state,\r\n      putData: this.putData,\r\n      setFavourite: this.setFavourite,\r\n    };\r\n    console.log(commonProps);\r\n    return (\r\n      <GlobalContext.Provider\r\n        value={{\r\n          ...commonProps,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </GlobalContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\n// // Create Context\r\n// export const GlobalContext = createContext(new GlobalProvider().state);\r\n","import React, { useState, useContext } from \"react\";\r\nimport { GlobalContext } from \"../contexts/GlobalState\";\r\n\r\nfunction MovieCards() {\r\n  const { search, setFavourite, favourites, Response } = useContext(\r\n    GlobalContext\r\n  );\r\n  console.log(search);\r\n  console.log(favourites);\r\n\r\n  const cardJSX = search.map((data) => {\r\n    return (\r\n      <div className=\"movie-card-layout\" key={data.imdbID}>\r\n        <div className=\"movie-card\">\r\n          <div className=\"favourite\" id={data.imdbID}>\r\n            {!data.isFav && (\r\n              <img\r\n                src=\"001-star-black.png\"\r\n                id={data.imdbID}\r\n                onClick={(e) => setFavourite(e.target.id)}\r\n              />\r\n            )}\r\n            {data.isFav && (\r\n              <img\r\n                src=\"001-star.png\"\r\n                id={data.imdbID}\r\n                onClick={(e) => setFavourite(e.target.id)}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"img\">\r\n            <img src={`${data.Poster}`} height=\"100%\" width=\"100%\" />\r\n          </div>\r\n          <div className=\"title\">{data.Title}</div>\r\n          <div className=\"description\">Released on : {data.Year}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"movie-card-container\">\r\n      {Response && cardJSX}\r\n      {!Response && <h1>Unable to fetch records, please try again</h1>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieCards;\r\n","import React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalContext } from \"../contexts/GlobalState\";\r\nimport data from \"./Data\";\r\n\r\nfunction SearchMovies() {\r\n  const { movieData, putData } = useContext(GlobalContext);\r\n  const [searchtext, setSearch] = useState(\"\");\r\n  const [dropdownvalue, setDropdown] = useState(\"all\");\r\n  const url = \"http://www.omdbapi.com/?apikey=1cae0fbe&s=\";\r\n\r\n  //   console.log(searchtext, dropdownvalue);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(`${url}${searchtext}`);\r\n    getData();\r\n  };\r\n\r\n  const getData = async () => {\r\n    console.log(`${url}${searchtext}`);\r\n    try {\r\n      const response = await axios.get(`${url}${searchtext}`);\r\n\r\n      putData(response.data, dropdownvalue);\r\n    } catch (err) {\r\n      return err;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-movies\">\r\n      <form className=\"search-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"search a movie\"\r\n          value={searchtext}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n        <select\r\n          name=\"dropdown\"\r\n          id=\"dropdown\"\r\n          onChange={(e) => setDropdown(e.target.value)}\r\n        >\r\n          <option value=\"all\">All</option>\r\n          <option value=\"movie\">Movies</option>\r\n          <option value=\"series\">Series</option>\r\n          <option value=\"episodes\">Episodes</option>\r\n        </select>\r\n        <button>Search</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchMovies;\r\n","import React from \"react\";\r\nimport MovieCards from \"./MovieCards\";\r\nimport SearchMovies from \"./searchMovies\";\r\n\r\nfunction MovieContainer() {\r\n  return (\r\n    <div className=\"movie-container\">\r\n      <SearchMovies />\r\n      <MovieCards />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieContainer;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  const history = useHistory();\r\n  return (\r\n    <div className=\"main-header\">\r\n      <div className=\"header-block\" onClick={(e) => history.push(\"/\")}>\r\n        Home\r\n      </div>\r\n      <div\r\n        className=\"header-block\"\r\n        onClick={(e) => history.push(\"/favourites\")}\r\n      >\r\n        Favourites\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\nimport MovieContainer from \"./components/MovieContainer\";\nimport Header from \"./components/Header\";\nimport { GlobalProvider } from \"./contexts/GlobalState\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"main-container\">\n        <GlobalProvider>\n            <Header />\n            <MovieContainer />\n        </GlobalProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../contexts/GlobalState\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Favourites() {\r\n  const { favourites } = useContext(GlobalContext);\r\n  const length = favourites.length;\r\n  console.log(favourites);\r\n  const CardJSX = favourites.map((data) => {\r\n    return (\r\n      <div className=\"movie-card-layout\" key={data.imdbID}>\r\n        <div className=\"movie-card\">\r\n          <div className=\"favourite\" id={data.imdbID}>\r\n            {!data.isFav && <img src=\"001-star-black.png\" id={data.imdbID} />}\r\n            {data.isFav && <img src=\"001-star.png\" id={data.imdbID} />}\r\n          </div>\r\n          <div className=\"img\">\r\n            <img src={`${data.Poster}`} height=\"100%\" width=\"100%\" />\r\n          </div>\r\n          <div className=\"title\">{data.Title}</div>\r\n          <div className=\"description\">Released on : {data.Year}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n  console.log(length);\r\n  return (\r\n    <div className=\"main-container\">\r\n      <Header />\r\n      <div className=\"movie-container\">\r\n        <div className=\"movie-card-container\">\r\n          {length && CardJSX}\r\n          {!length && <h1>No favourites</h1>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favourites;\r\n","import React from \"react\";\r\nimport { GlobalProvider } from \"../contexts/GlobalState\";\r\nimport Favourites from \"./favourites\";\r\n\r\nfunction FavouriteMain() {\r\n  return (\r\n    <div>\r\n      <GlobalProvider>\r\n        <Favourites />\r\n      </GlobalProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FavouriteMain;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport App from \"../App\";\r\nimport FavouriteMain from \"../components/favouriteMain\";\r\nimport Favourites from \"../components/favourites\";\r\n\r\nfunction Routes() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={App} />\r\n      <Route path=\"/favourites\" exact component={FavouriteMain} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Routes from \"./routes/routes\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Routes />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}